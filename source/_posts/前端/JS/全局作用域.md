---
title: 全局作用域
p: 前端/JS/全局作用域
date: 2020-02-14 19:30:15
tags: [前端,JS]
categories: [前端,JS]
---

## 作用域

作用域指一个变量的作用的范围
在js中一共有两种作用域

1. 全局作用域
    - 直接编写在script标签中的JS代码，都在全局作用域中
    - 全局作用域在页面打开时创建，在页面关闭时销毁
    - 在全局作用域中有一个全局对象window，它代表的时一共浏览器的窗口，它由浏览器创建我们可以直接使用
    - 在全局作用域中：创建的变量都会作为window对象的属性保存,创建的函数都会作为window对象的方法保存
    - 全局作用域中的变量都是全局变量，在页面的任意的部分都可以访问的到
2. 函数作用域
    - 调用函数时创建函数作用域，函数执行完毕以后，函数作用域销毁
    - 每调用一次函数就会创建一共新的函数作用域，他们之间时互相独立的
    - 在函数作用域中可以访问到全局作用域的变量，在全局作用域中无法访问到函数作用域的变量
    - 当在函数作用域操作一共变量时，它会先在自身作用域中寻找，如果有就直接使用
        如果没有则向上一级作用域中寻找，知道找到全局作用域，
        如果全局作用域中仍然没有找到，则会报错ReferenceError

## 变量的声明提前

变量的声明提前
使用var关键字声明的变量，会在所有的代码执行之前被声明（但是不会赋值)
但是如果声明变量时不使用var关键字，则变量不会被声明提前

函数的声明提前
使用函数声明形式创建的函数function函数（）{}，它会在所有的代码执行之前就被创建

```js
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <script type="text/javascript">
        fun()
        // 函数声明，会被提前创建
        function fun() {
            console.log("我是一个fun函数")
        }
        // 函数表达式，不会被提前创建
        // fun2() undefined
        var fun2 = function  (){
            
        }
        fun2()
    </script> -->
    <script>
        var obj = {
            name: '孙悟空',
            age:18,
            gender:'男',
            sayName:function(){
                alert(this.name)
            }
        }
        /*
        * 使用工程方法创建对象
        */
        function createPerson(){
            // 创建一个新的对象
            var obj = new Object()
            // 向对象中添加属性
            obj.name = "孙悟空"
            obj.age= 18
            obj.gender = '男'
            obj.sayName = function(){
                console.dir(obj)
            }
            // 将新的对象返回
            return obj
        }
    </script>


</body>
</html>
```
