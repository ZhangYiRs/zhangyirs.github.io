<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="仅限学习参考，有兴趣可以互相交流">
  <meta name="author" content="张议">
  <meta name="keywords" content="张议,Java,java,spring,SpringBoot,zhangyi">
  <title>MetaMask ~ 人生展馆</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">



  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"  >


<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>人生展馆</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">主页</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">资料</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/index.jpg')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  星期五, 十一月 12日 2021, 3:24 下午
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    1.5k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      8 分钟
                  </span>&nbsp;
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <h2 id="小狐狸钱包基本操作方法"><a href="#小狐狸钱包基本操作方法" class="headerlink" title="小狐狸钱包基本操作方法"></a>小狐狸钱包基本操作方法</h2><pre><code class="js">import MetaMaskOnboarding from &#39;@metamask/onboarding&#39;
import ElLoading from &#39;element-plus/es/components/loading/index&#39;
import &#39;element-plus/es/components/loading/style/index&#39;
import BigNumber from &#39;bignumber.js&#39;
import &#123; ethers &#125; from &#39;ethers&#39;

const &#123; ethereum &#125; = window
const web3 = new Web3(&#39;https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161&#39;)
// const web3 = new Web3(import.meta.env.VITE_app_POLYGON_URL)
let ethersProvider
let maticPOSClientParent
let maticPOSClientMatic

export const personalSign = async function (address, randomStr) &#123;
    try &#123;
        const msg = `0x$&#123;window.Buffer.from(randomStr, &#39;utf8&#39;).toString(&#39;hex&#39;)&#125;`
        const sign = await ethereum.request(&#123;
            method: &#39;personal_sign&#39;,
            params: [msg, address, &#39;Example password&#39;],
        &#125;)
        return sign
        // personalSignResult.innerHTML = sign
        // personalSignVerify.disabled = false
    &#125; catch (err) &#123;
        console.error(err)
        // personalSign.innerHTML = `Error: $&#123;err.message&#125;`
    &#125;
&#125;
/**
 * 判断当前浏览器是否安装 metamask插件
 */
export const isMetaMaskInstalled = function () &#123;
    let eth = Boolean(ethereum &amp;&amp; ethereum.isMetaMask)
    if (eth) &#123;
        ethersProvider = new ethers.providers.Web3Provider(ethereum, &#39;any&#39;)
        maticPOSClientParent = new Matic.MaticPOSClient(&#123;
            network: &#39;testnet&#39;,
            version: &#39;mumbai&#39;,
            parentProvider: new Web3(ethereum).currentProvider,
            maticProvider: &#39;https://rpc-mumbai.maticvigil.com/v1/423e0658d71aae08dd5d0eb56b3d379399c40e1b&#39;,
        &#125;)
        maticPOSClientMatic = new Matic.MaticPOSClient(&#123;
            network: &#39;testnet&#39;,
            version: &#39;mumbai&#39;,
            parentProvider: &#39;https://goerli.infura.io/v3/5cf8a212d9e34aca9cbcc58800551ee3&#39;,
            maticProvider: new Web3(ethereum).currentProvider,
        &#125;)
    &#125;
    return eth
&#125;
/**
 * 检查当前网站是否连接钱包，如果没有安装钱包则安装，如果安装则连接
 * @param forwarderOrigin 当前网页url
 */
export const MetaMaskClientCheck = async function (forwarderOrigin) &#123;
    if (!isMetaMaskInstalled()) &#123;
        onInstall(forwarderOrigin)
    &#125; else &#123;
        return onConnect()
    &#125;
&#125;

/**
 * 安装metamask浏览器扩展钱包
 * @param forwarderOrigin 当前网址
 */
export const onInstall = forwarderOrigin =&gt; &#123;
    const onboarding = new MetaMaskOnboarding(&#123; forwarderOrigin &#125;)
    onboarding.startOnboarding()
&#125;

/**
 * 连接小狐狸钱包
 */
export const onConnect = async function () &#123;
    if (ethereum) &#123;
        let result = await ethereum.request(&#123; method: &#39;eth_requestAccounts&#39; &#125;).catch(err =&gt; &#123;
            alert(&#39;Please connect your metaMask&#39;)
        &#125;)
        return result
    &#125; else &#123;
        alert(&#39;Wallet not downloaded&#39;)
    &#125;
&#125;

/**
 * 获取当前账户
 */
export const getAccount = async function () &#123;
    try &#123;
        return await ethereum.request(&#123;
            method: &#39;eth_requestAccounts&#39;,
        &#125;)
    &#125; catch (error) &#123;
        console.error(error)
    &#125;
&#125;
/**
 * 查询账户eth余额
 * @param address 钱包地址
 * @returns &#123;Promise&lt;BigNumber&gt;&#125;
 */
export const getBalance = async function (address) &#123;
    var loading = ElLoading.service(&#123;
        lock: true,
        text: &#39;Loading&#39;,
        spinner: &#39;el-icon-loading&#39;,
        background: &#39;rgba(0, 0, 0, 0.7)&#39;,
    &#125;)
    try &#123;
        let res = await web3.eth.getBalance(address, &#39;latest&#39;)
        loading.close()
        return res
    &#125; catch (error) &#123;
        // console.error(error);
        loading.close()
        // console.log(error)
        onConnect()
    &#125;
&#125;

/**
 * 发送ETH
 * @param receiveAddress 接收人地址
 * @param value 转账数量
 * @param gasLimit gas费限制
 * @param gasPrice gas费价格
 */
export const sendEth = async function (receiveAddress, value, gasLimit = 21000, gasPrice = 20000000000) &#123;
    if (isMetaMaskInstalled) &#123;
        return await ethersProvider.getSigner().sendTransaction(&#123;
            to: receiveAddress,
            value: value,
            gasLimit: gasLimit,
            gasPrice: gasPrice,
        &#125;)
    &#125; else &#123;
        return false
    &#125;
&#125;
/**
 * 发送合约
 * @param receiveAddress 接收人地址
 * @param data 物品tokenId[]
 * @param value 价格
 * @param gasLimit gas费限制
 * @param gasPrice gas费价格
 * @returns &#123;Promise&lt;TransactionResponse&gt;&#125;
 */
export const sendContact = async function (receiveAddress, data, value = 0, gasLimit = 500000, gasPrice = 30000000000) &#123;
    if (isMetaMaskInstalled) &#123;
        // try &#123;
        console.log(receiveAddress, data, value, gasLimit, gasPrice)
        return await ethersProvider.getSigner().sendTransaction(&#123;
            to: receiveAddress,
            value: value,
            data: data,
            gasLimit: gasLimit,
            gasPrice: gasPrice,
            // maxFeePerGas: gasPrice,
            // maxPriorityFeePerGas: &#39;0x59682F00&#39;,
            // gas:1.1
        &#125;)
        // &#125; catch (error) &#123;
        //     // console.error(error);
        //     alert(error.code)
        //     console.log(this)
        //     return error
        // &#125;
    &#125; else &#123;
        return false
    &#125;
&#125;
export const gas = async function (from, to, data) &#123;
    return await web3.eth.estimateGas(&#123;
        from,
        to,
        data,
    &#125;)
&#125;
export const gasPrice = async function () &#123;
    return await web3.eth.getGasPrice()
&#125;
/**
 * 添加代币
 * @param type
 * @param contractAddress
 * @param tokenSymbol
 * @param decimalUnits
 * @param image
 * @returns &#123;Promise&lt;*&gt;&#125;
 */
export const addTokenToWallet = async (
    type = &#39;ERC20&#39;,
    contractAddress,
    tokenSymbol,
    decimalUnits = 0,
    image = &#39;https://metamask.github.io/test-dapp/metamask-fox.svg&#39;,
) =&gt; &#123;
    return await ethereum.request(&#123;
        method: &#39;wallet_watchAsset&#39;,
        params: &#123;
            type: type,
            options: &#123;
                address: contractAddress,
                symbol: tokenSymbol,
                decimals: decimalUnits,
                image: image,
            &#125;,
        &#125;,
    &#125;)
&#125;
/**
 * 创建合约方法对象
 * @param contractAbi
 * @param contractAddress
 * @param currentAccount
 * @returns &#123;Promise&lt;*&gt;&#125;
 */
export const contactMethod = function (contractAbi, contractAddress, currentAccount) &#123;
    let myContract = new web3.eth.Contract(contractAbi, contractAddress, &#123;
        from: currentAccount,
    &#125;)
    return myContract.methods
&#125;
/**
 * 添加网络
 * @returns &#123;Promise&lt;void&gt;&#125;
 */
export const addChain = async (
    chainId = &#39;0x89&#39;,
    rpcUrls = [&#39;https://polygon-rpc.com/&#39;],
    chainName = &#39;Polygon Mainnet&#39;,
    nativeCurrency = &#123;
        name: &#39;MATIC&#39;,
        decimals: 18,
        symbol: &#39;MATIC&#39;,
    &#125;,
    blockExplorerUrls = [&#39;https://polygonscan.com/&#39;],
) =&gt; &#123;
    await ethereum.request(&#123;
        method: &#39;wallet_addEthereumChain&#39;,
        params: [
            &#123;
                chainId: chainId,
                rpcUrls: rpcUrls,
                chainName: chainName,
                nativeCurrency: nativeCurrency,
                blockExplorerUrls: blockExplorerUrls,
            &#125;,
        ],
    &#125;)
&#125;
/**
 * 切换网络
 * @returns &#123;Promise&lt;void&gt;&#125;
 */
export const switchChain = async chainId =&gt; &#123;
    console.log(ethereum)
    try &#123;
        await ethereum.request(&#123;
            method: &#39;wallet_switchEthereumChain&#39;,
            params: [
                &#123;
                    chainId: chainId,
                &#125;,
            ],
        &#125;)
    &#125; catch (switchError) &#123;
        // This error code indicates that the chain has not been added to MetaMask.
        if (switchError.code === 4902) &#123;
            try &#123;
                addChain()
            &#125; catch (addError) &#123;
                // handle &quot;add&quot; error
            &#125;
        &#125;
        // handle other &quot;switch&quot; errors
    &#125;
&#125;

export const buyArray = async (contractAbi, contactAddress, address, value, ids) =&gt; &#123;
    let abiMethods = contactMethod(contractAbi, contactAddress, address)
    abiMethods.then(fun =&gt; &#123;
        let data = fun.safeBatchMintCNG(ids).encodeABI()

        sendContact(contactAddress, data, value).then(
            sendContactResult =&gt; &#123;
                var result = &#39;approve&#39;
                var txHash = sendContactResult.hash
                walletResult(&#123;
                    result,
                    appId: appId,
                    address: address,
                    txHash: txHash,
                    cost: &#39;wei&#39;,
                &#125;)
            &#125;,
            err =&gt; &#123;
                var result = &#39;reject&#39;
                let txHash
                walletResult(&#123;
                    result,
                    appId: appId,
                    address: address,
                    txHash: txHash,
                    cost: &#39;wei&#39;,
                &#125;)
                console.log(&#39;交易完成&#39;)
            &#125;,
        )
    &#125;)
&#125;

export const changeWei = function (value) &#123;
    return web3.utils.toWei(value.toString(), &#39;ether&#39;)
&#125;
export const changeFromWei = function (value) &#123;
    return web3.utils.fromWei(value.toString(), &#39;Gwei&#39;)
&#125;

export const deposit20 = async (rootToken, amount, from) =&gt; &#123;
    await switchChain(&#39;0x5&#39;)
    const approveResult = await maticPOSClientParent.approveERC20ForDeposit(rootToken, amount, &#123; from: from &#125;)
    console.log(approveResult)
    const depositResult = await maticPOSClientParent.depositERC20ForUser(rootToken, from, amount, &#123; from &#125;)
    console.log(depositResult)
    return depositResult
&#125;

export const burn20 = async function (childToken, amount, from) &#123;
    await switchChain(&#39;0x13881&#39;)
    console.log(maticPOSClientMatic)
    const burnTxHash = await maticPOSClientMatic.burnERC20(childToken, amount, &#123; from &#125;).catch(e =&gt; &#123;
        console.log(e)
    &#125;)
    console.log(burnTxHash)
&#125;

export const exit20 = async (burnTxHash, from) =&gt; &#123;
    await switchChain(&#39;0x5&#39;)
    const exitResult = await maticPOSClientParent.exitERC20(burnTxHash, &#123; from &#125;)
    console.log(exitResult)
&#125;

export const deposit721 = async (rootToken, tokenId, from) =&gt; &#123;
    await switchChain(&#39;0x5&#39;)
    const approveResult = await maticPOSClientParent.approveERC721ForDeposit(rootToken, tokenId, &#123; from &#125;)
    console.log(approveResult)
    // let gasPrice = await gasPrice();
    const depositResult = await maticPOSClientParent.depositERC721ForUser(rootToken, from, tokenId, &#123; from &#125;)
    console.log(depositResult)
    return depositResult
&#125;

export const burn721 = async (childToken, tokenId, from) =&gt; &#123;
    await switchChain(&#39;0x13881&#39;)
    console.log(childToken, tokenId, from, maticPOSClientMatic)
    const burnTxHash = await maticPOSClientMatic.burnERC721(childToken, tokenId, &#123; from &#125;)
    return burnTxHash
&#125;

export const exit721 = async (burnTxHash, from) =&gt; &#123;
    await switchChain(&#39;0x5&#39;)
    const exitResult = await maticPOSClientParent.exitERC721(burnTxHash, &#123; from &#125;)
    return exitResult
&#125;
</code></pre>
<h3 id="gas费的另一种表达方式"><a href="#gas费的另一种表达方式" class="headerlink" title="gas费的另一种表达方式"></a>gas费的另一种表达方式</h3><pre><code class="js">
const gasLimit = sanitizeHex(convertStringToHex(_gasLimit))
const gasPrice = sanitizeHex(convertStringToHex(convertAmountToRawNumber(_gasPrice, 9)))
const tx = &#123;
    from,
    to,
    nonce,
    maxFeePerGas: gasPrice,             // 最大gas费
    maxPriorityFeePerGas: &#39;0x59682F00&#39;, // gas倍数1.5倍
    gasLimit,                           // gasLimit
    value,
    data: _data,
&#125;

export function sanitizeHex(hex) &#123;
  hex = hex.substring(0, 2) === &quot;0x&quot; ? hex.substring(2) : hex;
  if (hex === &quot;&quot;) &#123;
    return &quot;&quot;;
  &#125;
  hex = hex.length % 2 !== 0 ? &quot;0&quot; + hex : hex;
  return &quot;0x&quot; + hex;
&#125;
export function convertStringToHex(value) &#123;
  return new BigNumber(`$&#123;value&#125;`).toString(16);
&#125;
export function convertAmountToRawNumber(value, decimals = 18) &#123;
  return new BigNumber(`$&#123;value&#125;`)
    .times(new BigNumber(&quot;10&quot;).pow(decimals))
    .toString();
&#125;
</code></pre>

            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE">区块链</a>
                  &nbsp;
                
                  <a class="hover-with-bg" href="/categories/%E9%92%B1%E5%8C%85">钱包</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/%E5%B0%8F%E7%8B%90%E7%8B%B8">小狐狸</a>
                
                  <a class="hover-with-bg" href="/tags/MetaMask">MetaMask</a>
                
                  <a class="hover-with-bg" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE">区块链</a>
                
                  <a class="hover-with-bg" href="/tags/%E9%92%B1%E5%8C%85">钱包</a>
                
              </span>
            
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
      <br><br>
      
      

    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>

    
  
    <!-- 不蒜子统计PV -->
    
    &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
  
  
    <!-- 不蒜子统计UV -->
    
    &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
  
  <br>



    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>



  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


<!-- Plugins -->


  

  

  

  

  




  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "MetaMask&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "left",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>







</body>
</html>
